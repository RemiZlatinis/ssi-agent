#!/bin/bash
# Pre-removal script for service-status-indicator-agent

set -e

# Stop and disable service before removal
if systemctl is-active --quiet service-status-indicator-agent; then
    echo "Stopping service-status-indicator-agent..."
    systemctl stop service-status-indicator-agent
fi

if systemctl is-enabled --quiet service-status-indicator-agent; then
    echo "Disabling service-status-indicator-agent..."
    systemctl disable service-status-indicator-agent
fi

# Reload systemd daemon
systemctl daemon-reload
